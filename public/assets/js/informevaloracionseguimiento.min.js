let informeValoracionSeguimientoCore={InformeValoracionSeguimiento:Object(),informeValoracionSeguimiento:Object(),init:async function(){this.events(),$("#listadoInformevaloracionseguimiento").length&&"informevaloracionseguimiento"==core.model.toLowerCase()?await informeValoracionSeguimientoCore.renderTabla():(core.Files.init(),core.Files.Fichero.entidadId=core.modelId,"add"==core.actionModel&&"informevaloracionseguimiento"==core.model.toLowerCase()&&$("#nombre").val("Informe de evaluaciÃ³n y seguimiento "))},events:async function(){$("body").on(core.helper.clickEventType,".btnEliminarInformeValoracionSeguimiento",evt=>{evt.stopImmediatePropagation(),informeValoracionSeguimientoCore.eliminar($(evt.currentTarget).attr("data-id"),$(evt.currentTarget).attr("data-titulo"))})},eliminar:function(id,nombre){core.Modelo.Delete("informevaloracionseguimiento",id,nombre,"listadoInformevaloracionseguimiento")},renderTabla:async function(){if($("#listadoInformevaloracionseguimiento").length){CoreUI.tableData.init(),CoreUI.tableData.columns=[],CoreUI.tableData.addColumn("listadoInformevaloracionseguimiento",(function(row,type,val,meta){var timeStamp,fechaCreacion;return`<span style="display:none;">${moment(row.fecha,"YYYY-MM-DD hh:mm").unix()}</span>${moment(row.fecha).locale("es").format("L")}`}),"Fecha",null,"text-center","80px"),CoreUI.tableData.addColumn("listadoInformevaloracionseguimiento","titulo","TITULO",null,"text-justify"),CoreUI.tableData.addColumn("listadoInformevaloracionseguimiento","usuario[0].nombre","Administrador de fincas",null,"text-left");var html='<a href="'+config.baseURL+'public/storage/data:ficheroscomunes.nombrestorage$" download="data:ficheroscomunes.nombre$" target="_blank"><i class="bi bi-cloud-arrow-down" style="font-size:26px;"></i></a>';if(CoreUI.tableData.addColumn("listadoInformevaloracionseguimiento",null,"Fichero",html,"text-center","120px"),"SUDO"==core.Security.getRole()||"DPD"==core.Security.getRole()){var html='<ul class="nav justify-content-center accionesTabla">';html+=`<li class="nav-item"><a href="${baseURL}informevaloracionseguimiento/data:id$" class="d-inline-block" data-id="data:id$" data-titulo="data:titulo$"><i data-feather="edit" class="text-success img-fluid" style="height:26px;width:26px;"></i></a></li>`,html+='<li class="nav-item"><a href="javascript:void(0);" class="btnEliminarInformeValoracionSeguimiento d-inline-block" data-id="data:id$" data-titulo="data:titulo$"><i data-feather="trash-2" class="text-danger img-fluid" style="height:26px;width:26px;"></i></li></ul>',CoreUI.tableData.addColumn("listadoInformevaloracionseguimiento",null,"",html)}$("#listadoInformevaloracionseguimiento").addClass("no-clicable"),CoreUI.tableData.render("listadoInformevaloracionseguimiento","Informevaloracionseguimiento","informevaloracionseguimiento/list")}}};$(()=>{informeValoracionSeguimientoCore.init()});