let notasInformativasCore={NotasInformativas:Object(),notainformativa:Object(),init:async function(){this.events(),$("#listadoNotasInformativas").length&&"notasinformativas"==core.model.toLowerCase()?notasInformativasCore.renderTabla():(core.Files.init(),core.Files.Fichero.entidadId=core.modelId)},events:async function(){$("body").on(core.helper.clickEventType,".btnEliminarNotaInformativa",(function(evt){notasInformativasCore.Modelo.Eliminar($(evt.currentTarget).attr("data-id"),$(evt.currentTarget).attr("data-titulo"))}))},Modelo:{Eliminar:function(id,nombre){core.Modelo.Delete("notasinformativas",id,nombre,"listadoNotasInformativas")}},renderTabla:async function(){if($("#listadoNotasInformativas").length){CoreUI.tableData.init(),CoreUI.tableData.columns=[],CoreUI.tableData.addColumn("listadoNotasInformativas",(function(row,type,val,meta){var timeStamp,fechaCreacion;return`<span style="display:none;">${moment(row.fecha,"YYYY-MM-DD hh:mm").unix()}</span>${moment(row.fecha).locale("es").format("L")}`}),"Fecha",null,"text-center","80px"),CoreUI.tableData.addColumn("listadoNotasInformativas","titulo","TITULO",null,"text-justify"),CoreUI.tableData.addColumn("listadoNotasInformativas","descripcion","NOTA",null,"text-justify");var html='<a href="'+config.baseURL+'public/storage/data:ficheroscomunes.nombrestorage$" download="data:ficheroscomunes.nombre$" target="_blank"><i class="bi bi-cloud-arrow-down" style="font-size:24px;"></i></a>';if(CoreUI.tableData.addColumn("listadoNotasInformativas",null,"Fichero",html,"text-center"),"SUDO"==core.Security.getRole()||"DPD"==core.Security.getRole()){var html='<ul class="nav justify-content-center accionesTabla">';html+=`<li class="nav-item"><a href="${baseURL}notasinformativas/data:id$" class="d-inline-block" data-id="data:id$" data-titulo="data:titulo$"><i data-feather="edit" class="text-success img-fluid" style="height:26px;width:26px;"></i></a></li>`,html+='<li class="nav-item"><a href="javascript:void(0);" class="btnEliminarNotaInformativa d-inline-block" data-id="data:id$" data-titulo="data:titulo$"><i data-feather="trash-2" class="text-danger img-fluid" style="height:26px;width:26px;"></i></li></ul>',CoreUI.tableData.addColumn("listadoNotasInformativas",null,"",html)}await CoreUI.tableData.render("listadoNotasInformativas","Notasinformativas","notasinformativas/list",!1,!0,!0,null,!1)}}};$(()=>{notasInformativasCore.init()});